<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="BoardSpace">

	<insert id="insertBoard" parameterType="java.util.Map">
		insert into board(
			unq, title, pass, name, content, hits, rdate
		)
		values(
			seq_board.nextval, #{title},	#{pass},	#{name},	#{content}, 0, sysdate 
		)
		 								 
	</insert>
	
	<select id="selectBoardList" resultType="hashMap" parameterType="java.util.Map">
		select b.* from (
				select rownum rn, a.* from (
					select unq,
							title,
							name,
							hits,
							to_char(rdate,'yyyy-mm-dd') rdate
					from board
						order by unq desc) a) b
	</select>
	
	<select id="selectBoardTotal" resultType="integer" parameterType="java.util.Map">
		SELECT count(*) FROM BOARD                 
		<choose>
	        <when test="searchGubun != '' and searchText != ''">
					where #{searchGubun} like #{searchText}
		    </when>
		</choose>
	</select>
	
 </mapper>